<div class="card card-outline card-dark">
  <div class="card-header">
    <h3 class="card-title">Podsumowanie podań</h3>
    <div class="card-tools">
      <button type="button" class="btn btn-tool" data-card-widget="maximize">
        <i class="fas fa-expand"></i>
      </button>
      <button type="button" class="btn btn-tool" data-card-widget="collapse">
        <i class="fas fa-minus"></i>
      </button>
    </div>
  </div>
  <div class="card-body p-0 text-sm-center">
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Szkoła</th>
        <th *ngFor="let f of fruitVegProducts">{{f.product.name}}</th>
        <th *ngFor="let d of dairyProducts">{{d.product.name}}</th>
        <th>{{FRUIT_VEG_PRODUCT | titlecase}}</th>
        <th>{{DAIRY_PRODUCT | titlecase}}</th>
      </tr>
      </thead>
      <tbody>
      <tr class="table-info">
        <td></td>
        <td *ngFor="let f of fruitVegProducts">{{f.min_amount}}</td>
        <td *ngFor="let d of dairyProducts">{{d.min_amount}}</td>
        <td>{{get_max(program, FRUIT_VEG_PRODUCT)}}</td>
        <td>{{get_max(program, DAIRY_PRODUCT)}}</td>
      </tr>
      <tr *ngFor="let contract of contracts;">
        <td>{{contract.school.nick}}</td>
        <td *ngFor="let f of fruitVegProducts;"
            [ngStyle]="{'background-color': getColor(get_product_amount(f, contract), f.min_amount)}">{{get_product_amount(f, contract)}}</td>
        <td *ngFor="let d of dairyProducts"
            [ngStyle]="{'background-color': getColor(get_product_amount(d, contract), d.min_amount)}">{{get_product_amount(d, contract)}}</td>
        <td
        >{{get_total(totalFruitVegAmount, contract)}}</td>
        <td>{{get_total(totalDairyAmount, contract)}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
